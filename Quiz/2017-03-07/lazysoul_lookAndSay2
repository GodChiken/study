object LookAndSay {
    @JvmStatic
    fun main(args: Array<String>) {
        generateSequence(listOf(1L)) { getValue(it) }
                .take(40)
                .last()
                .forEach(::print)
    }

    fun getValue(list: List<Long>): List<Long> {
        val size = list.takeWhile { it == list.first() }.count()
        if (list.size == size) {
            return listOf(list.first(), size.toLong())
        } else {
            return listOf(list.first(), size.toLong())
                    .plus(getValue(list.drop(size)))
        }

    }
}
